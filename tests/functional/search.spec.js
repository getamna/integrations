"use strict";var __awaiter=this&&this.__awaiter||function(e,i,t,r){return new(t||(t=Promise))((function(o,a){function s(e){try{n(r.next(e))}catch(e){a(e)}}function c(e){try{n(r.throw(e))}catch(e){a(e)}}function n(e){var i;e.done?o(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(s,c)}n((r=r.apply(e,i||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0});const services_1=require("../../services"),common_1=require("../common"),mailer=common_1.Integrations.getMailService(services_1.MailServiceType.Microsoft),gmailer=common_1.Integrations.getMailService(services_1.MailServiceType.Google),githubTeamIssue=common_1.Integrations.getTeamService(services_1.TeamServiceType.Github),asanaTeamIssue=common_1.Integrations.getTeamService(services_1.TeamServiceType.Asana);describe("Search everything",()=>{it("Search All",()=>__awaiter(void 0,void 0,void 0,(function*(){let e=function(e,i){return __awaiter(this,void 0,void 0,(function*(){let t=[],r=[],o=[];(yield mailer.searchMail(e,25)).forEach(e=>{let{id:i,subject:r}=e;t.push({id:i,title:r,type:"mail"})});(yield gmailer.searchMail(e,25)).forEach(e=>{let{id:i,subject:r}=e;t.push({id:i,title:r,type:"mail"})});return(yield githubTeamIssue.searchAllIssues(i,e)).forEach(e=>{let{id:i,title:t}=e;r.push({id:i,title:t,type:"issue"})}),t.forEach(e=>{o.push(e)}),r.forEach(e=>{o.push(e)}),console.log(o),o}))}("test","hiromski");console.log(e)}))).timeout(5e3),it("Search gmail by query",()=>__awaiter(void 0,void 0,void 0,(function*(){const e=yield gmailer.searchMail("test",25);console.log(e)})))});