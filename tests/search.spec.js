"use strict";var __awaiter=this&&this.__awaiter||function(e,i,t,o){return new(t||(t=Promise))((function(r,s){function c(e){try{n(o.next(e))}catch(e){s(e)}}function a(e){try{n(o.throw(e))}catch(e){s(e)}}function n(e){var i;e.done?r(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(c,a)}n((o=o.apply(e,i||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0});const services_1=require("../services"),common_1=require("./common"),mailer=common_1.IntegrationsLib.getMailService(services_1.MailServiceType.Microsoft),gmailer=common_1.IntegrationsLib.getMailService(services_1.MailServiceType.Google),githubTeamIssue=common_1.IntegrationsLib.getTeamService(services_1.TeamServiceType.Github),asanaTeamIssue=common_1.IntegrationsLib.getTeamService(services_1.TeamServiceType.Asana);describe("Search everything",()=>{it("Search All",()=>__awaiter(void 0,void 0,void 0,(function*(){const e=function(e,i){return __awaiter(this,void 0,void 0,(function*(){const t=[],o=[],r=[];(yield mailer.searchMail(e,25)).forEach(e=>{const{id:i,subject:o}=e;t.push({id:i,title:o,type:"mail"})});(yield gmailer.searchMail(e,25)).forEach(e=>{const{id:i,subject:o}=e;t.push({id:i,title:o,type:"mail"})});return(yield githubTeamIssue.searchAllIssues(i,e)).forEach(e=>{const{id:i,title:t}=e;o.push({id:i,title:t,type:"issue"})}),t.forEach(e=>{r.push(e)}),o.forEach(e=>{r.push(e)}),console.log(r),r}))}("test","hiromski");console.log(e)}))).timeout(5e3),it("Search gmail by query",()=>__awaiter(void 0,void 0,void 0,(function*(){const e=yield gmailer.searchMail("test",25);console.log(e)})))});